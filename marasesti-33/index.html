<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vila de inchiriat pe Bd. Marasesti nr. 33</title>
    <style>
        /* --- General Styles --- */
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            text-align: center;
        }

        h1 { color: #333; margin-bottom: 20px; }
        
        /* --- Description Section --- */
        .descriere {
            max-width: 960px;
            text-align: left;
            margin: auto;
            padding-bottom: 30px;
        }
        
        .descriere .status {
            color: red;
            font-size: 2rem;
            display: block;
            margin-bottom: 10px;
        }

        .descriere .contact-phone {
            font-size: 3rem;
            color: crimson;
            display: block;
            margin-top: 20px;
        }

        /* --- Gallery Grid Layout --- */
        .gallery-container {
            display: flex;
            flex-wrap: wrap; 
            gap: 15px; 
            max-width: 1200px; 
            margin: 0 auto; 
            justify-content: center; 
        }

        .gallery-item {
            /* Responsive sizing: grow=1, shrink=1, preferred min-width=250px */
            flex: 1 1 250px; 
            max-width: 350px; 
            overflow: hidden; 
            border: 1px solid #ddd;
            border-radius: 5px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .gallery-item img {
            width: 100%; 
            height: 350px; 
            object-fit: cover; 
            display: block; 
            transition: transform 0.3s ease; 
            cursor: pointer;
        }

        .gallery-item img:hover {
            transform: scale(1.03); 
        }

        /* --- Modal/Lightbox Styles --- */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1000; /* Ensure it's on top */
            left: 0; top: 0;
            width: 100%; height: 100%;
            overflow: hidden; /* Important for clean display */
            background-color: rgba(0,0,0,0.9); 
            user-select: none; /* Prevent text selection during swipe */
        }

        .modal-content {
            display: block;
            margin: 5% auto; 
            width: 90%; 
            max-width: 1000px; 
            max-height: 90%;
            object-fit: contain; 
            transition: opacity 0.3s ease-in-out; 
        }

        /* Close and Navigation Buttons Base Style */
        .close, .prev, .next {
            position: absolute;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
            z-index: 1001; 
            opacity: 0.8;
        }

        .close {
            top: 15px;
            right: 35px;
        }

        /* Navigation Arrows Positioning */
        .prev, .next {
            top: 50%;
            padding: 16px;
            transform: translateY(-50%);
        }

        .prev { left: 15px; }
        .next { right: 15px; }

        /* Hover Effect */
        .close:hover,
        .prev:hover, 
        .next:hover,
        .close:focus {
            opacity: 1;
            background-color: rgba(0,0,0,0.4);
        }
    </style>
</head>
<body>

    <h1>Vila de inchiriat pt Bd. Marasesti nr. 33</h1>
    <div class="descriere">
        <span class="status"> WORK IN PROGRESS </span>
        <p>
            Vila pe Bulevardul Marasesti, vis-a-vis de Engie, renovata complet (toate instalatiile, izolatie vata minerala, centrala noua, parchet, gresie, pereti rigips etc.) in urma cu 2 ani cu materiale de buna calitate de catre o firma specializata.
            <br><br>
            Suprafata utila aproximativ 160 mp + terasa + curte de ~90mp.
            <br><br>
            Elemente de arhitectura autentice, lumina naturala.
            <br><br>
            3 bai (2 mari + 1 de serviciu), camere mari, spatioase (se pot adauga pereti despartitori din rigips/sticla).
            <br><br>
            Ideala pentru afacere cu 10-15 angajati.
            <br><br>
            <b>2700 Euro, avans 2 luni</b>
        </p>
        <span class="contact-phone">Telefon 0773.953.118 </span>
        <br><br>
    </div>

    <div class="gallery-container">
        
        <div class="gallery-item">
            <img src="marasesti-33 (6).jpeg" data-full-src="marasesti-33 (6).jpeg" alt="FaÈ›ada Vilei Marasesti 33 - 1">
        </div>
        
        <div class="gallery-item">
            <img src="marasesti-33 (5).jpeg" data-full-src="marasesti-33 (5).jpeg" alt="Interior Vila Marasesti 33 - 2">
        </div>
        
        <div class="gallery-item">
            <img src="marasesti-33 (4).jpeg" data-full-src="marasesti-33 (4).jpeg" alt="Interior Vila Marasesti 33 - 3">
        </div>
        
        <div class="gallery-item">
            <img src="marasesti-33 (3).jpeg" data-full-src="marasesti-33 (3).jpeg" alt="Interior Vila Marasesti 33 - 4">
        </div>
        
        <div class="gallery-item">
            <img src="marasesti-33 (2).jpeg" data-full-src="marasesti-33 (2).jpeg" alt="Interior Vila Marasesti 33 - 5">
        </div>
        
        <div class="gallery-item">
            <img src="marasesti-33 (1).jpeg" data-full-src="marasesti-33 (1).jpeg" alt="Curte Vila Marasesti 33 - 6">
        </div>
        
        <div class="gallery-item">
            <img src="marasesti-33 (7).jpeg" data-full-src="marasesti-33 (7).jpeg" alt="Detaliu arhitectural Vila Marasesti 33 - 7">
        </div>
        
    </div>

    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <span class="prev">&#10094;</span> 
        <span class="next">&#10095;</span> 
        <img class="modal-content" id="modalImage">
    </div>

    <script>
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const closeBtn = document.querySelector('.close');
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');
        const galleryImages = document.querySelectorAll('.gallery-item img');

        let currentImageIndex;
        let imageSources = []; // Array to hold all image paths for easy navigation

        // 1. Setup: Populate imageSources and add click listeners
        galleryImages.forEach((img, index) => {
            imageSources.push(img.getAttribute('data-full-src'));
            img.addEventListener('click', () => openModal(index));
        });

        // 2. Navigation Functions
        function showImage(index) {
            // Logic to loop around (start from end or end from start)
            if (index < 0) {
                currentImageIndex = imageSources.length - 1;
            } else if (index >= imageSources.length) {
                currentImageIndex = 0;
            } else {
                currentImageIndex = index;
            }
            
            modalImg.src = imageSources[currentImageIndex];
        }

        function openModal(index) {
            modal.style.display = "block";
            showImage(index);
        }

        function closeModal() {
            modal.style.display = "none";
        }

        // 3. Event Handlers (Buttons and Background)
        closeBtn.onclick = closeModal;
        prevBtn.onclick = () => showImage(currentImageIndex - 1);
        nextBtn.onclick = () => showImage(currentImageIndex + 1);

        // Click outside image to close
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        // 4. Keyboard Navigation
        document.addEventListener('keydown', function(e) {
            if (modal.style.display === "block") {
                if (e.key === "ArrowLeft") {
                    showImage(currentImageIndex - 1);
                } else if (e.key === "ArrowRight") {
                    showImage(currentImageIndex + 1);
                } else if (e.key === "Escape") {
                    closeModal();
                }
            }
        });

        // 5. Touch/Swipe Navigation
        let touchstartX = 0;
        let touchendX = 0;
        const SWIPE_THRESHOLD = 50; // Minimum distance in pixels for a swipe to register

        modalImg.addEventListener('touchstart', e => {
            touchstartX = e.changedTouches[0].screenX;
        });

        modalImg.addEventListener('touchend', e => {
            touchendX = e.changedTouches[0].screenX;
            handleGesture();
        });

        // Prevent vertical scrolling while swiping horizontally on the image
        modalImg.addEventListener('touchmove', e => {
             // Check if we are mostly swiping horizontally
             const deltaX = Math.abs(e.changedTouches[0].screenX - touchstartX);
             const deltaY = Math.abs(e.changedTouches[0].screenY - e.changedTouches[0].screenY); // Simple way to get the Y movement, but usually not needed if only X is checked
             
             // Prevent default only if horizontal movement is significant (optional but helpful)
             if (deltaX > 5 && deltaX > deltaY) {
                 e.preventDefault(); 
             }
        }, { passive: false });


        function handleGesture() {
            const distance = touchendX - touchstartX;

            if (distance > SWIPE_THRESHOLD) {
                // Right swipe (move to previous image)
                showImage(currentImageIndex - 1);
            } else if (distance < -SWIPE_THRESHOLD) {
                // Left swipe (move to next image)
                showImage(currentImageIndex + 1);
            }
            // Reset points
            touchstartX = 0;
            touchendX = 0;
        }
        
    </script>

</body>
</html>